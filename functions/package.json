{
  "name": "functions",
  "version": "1.0.0",
  "config": {
    "firestore": "dev-mantic-markets.appspot.com"
  },
  "scripts": {
    "build": "yarn compile && rm -rf dist && mkdir -p dist/functions && cp -R ../common/lib dist/common && cp -R lib/src dist/functions/src && cp ../yarn.lock dist && cp package.json dist && cp .env.prod dist && cp .env.dev dist",
    "compile": "tsc -b",
    "watch": "tsc -w",
    "shell": "yarn build && firebase functions:shell",
    "start": "yarn shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "dev": "nodemon src/serve.ts",
    "localDbScript": "firebase emulators:start --only functions,firestore,pubsub --import=./firestore_export",
    "serve": "firebase use dev && yarn build && firebase emulators:start --only functions,firestore,pubsub --import=./firestore_export",
    "db:update-local-from-remote": "yarn db:backup-remote && gsutil -m rsync -r gs://$npm_package_config_firestore/firestore_export ./firestore_export",
    "db:backup-local": "firebase emulators:export --force ./firestore_export",
    "db:rename-remote-backup-folder": "gsutil -m mv gs://$npm_package_config_firestore/firestore_export gs://$npm_package_config_firestore/firestore_export_$(date +%d-%m-%Y-%H-%M)",
    "db:backup-remote": "yarn db:rename-remote-backup-folder && gcloud firestore export gs://$npm_package_config_firestore/firestore_export/",
    "verify": "(cd .. && yarn verify)",
    "verify:dir": "npx eslint . --max-warnings 0; tsc -b -v --pretty"
  },
  "main": "functions/src/index.js",
  "dependencies": {
    "@amplitude/node": "1.10.0",
    "@flat/in-app-purchase": "FlatIO/in-app-purchase#1.13.5",
    "@google-cloud/functions-framework": "3.1.2",
    "@supabase/supabase-js": "2.0.5",
    "@tiptap/core": "2.0.0-beta.199",
    "@tiptap/extension-image": "2.0.0-beta.199",
    "@tiptap/extension-link": "2.0.0-beta.199",
    "@tiptap/extension-mention": "2.0.0-beta.199",
    "@tiptap/html": "2.0.0-beta.199",
    "@tiptap/starter-kit": "2.0.0-beta.199",
    "@tiptap/suggestion": "2.0.0-beta.199",
    "cors": "2.8.5",
    "dayjs": "1.11.4",
    "expo-server-sdk": "3.6.0",
    "express": "4.18.1",
    "firebase-admin": "11.2.0",
    "firebase-functions": "3.21.2",
    "lodash": "4.17.21",
    "mailgun-js": "0.22.0",
    "marked": "4.1.1",
    "module-alias": "2.2.2",
    "node-fetch": "2",
    "openai": "3.0.1",
    "stripe": "8.194.0",
    "zod": "3.17.2"
  },
  "devDependencies": {
    "@types/mailgun-js": "0.22.12",
    "@types/marked": "4.0.7",
    "@types/module-alias": "2.0.1",
    "@types/node-fetch": "2.6.2",
    "firebase-functions-test": "0.3.3",
    "puppeteer": "18.0.5"
  },
  "private": true
}
