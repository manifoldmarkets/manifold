-- This file is autogenerated from regen-schema.ts

CREATE TABLE IF NOT EXISTS private_user_message_channel_members (
  channel_id bigint NOT NULL,
  created_time timestamp with time zone DEFAULT now() NOT NULL,
  id bigint PRIMARY KEY GENERATED ALWAYS AS IDENTITY NOT NULL,
  notify_after_time timestamp with time zone DEFAULT now() NOT NULL,
  role text DEFAULT 'member'::text NOT NULL,
  status text DEFAULT 'proposed'::text NOT NULL,
  user_id text NOT NULL
);



-- Row Level Security
ALTER TABLE private_user_message_channel_members ENABLE ROW LEVEL SECURITY;
-- Indexes
DROP INDEX IF EXISTS private_user_message_channel_members_pkey;
CREATE UNIQUE INDEX private_user_message_channel_members_pkey ON public.private_user_message_channel_members USING btree (id);
DROP INDEX IF EXISTS pumcm_members_idx;
CREATE INDEX pumcm_members_idx ON public.private_user_message_channel_members USING btree (channel_id, user_id);
DROP INDEX IF EXISTS unique_user_channel;
CREATE UNIQUE INDEX unique_user_channel ON public.private_user_message_channel_members USING btree (channel_id, user_id);

