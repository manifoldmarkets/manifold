-- This file is autogenerated from regen-schema.ts

CREATE TABLE IF NOT EXISTS love_ships (
  created_time timestamp with time zone DEFAULT now() NOT NULL,
  creator_id text NOT NULL,
  ship_id text DEFAULT random_alphanumeric(12) NOT NULL,
  target1_id text NOT NULL,
  target2_id text NOT NULL,
  CONSTRAINT PRIMARY KEY (creator_id, ship_id)
);



-- Row Level Security
ALTER TABLE love_ships ENABLE ROW LEVEL SECURITY;
-- Policies
DROP POLICY IF EXISTS "public read" ON love_ships;
CREATE POLICY "public read" ON love_ships FOR SELECT USING (true) ;

-- Indexes
DROP INDEX IF EXISTS love_ships_pkey;
CREATE UNIQUE INDEX love_ships_pkey ON public.love_ships USING btree (creator_id, ship_id);
DROP INDEX IF EXISTS love_ships_target1_id;
CREATE INDEX love_ships_target1_id ON public.love_ships USING btree (target1_id);
DROP INDEX IF EXISTS love_ships_target2_id;
CREATE INDEX love_ships_target2_id ON public.love_ships USING btree (target2_id);

