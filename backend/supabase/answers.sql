-- This file is autogenerated from regen-schema.ts
create table if not exists
  answers (
    id text default random_alphanumeric (12) not null,
    contract_id text,
    user_id text,
    text text,
    created_time timestamp with time zone default now(),
    pool_yes numeric,
    pool_no numeric,
    prob numeric,
    data jsonb,
    index integer,
    total_liquidity numeric default 0,
    subsidy_pool numeric default 0,
    text_fts tsvector generated always as (to_tsvector('english_extended'::regconfig, text)) stored,
    prob_change_day numeric default 0,
    prob_change_week numeric default 0,
    prob_change_month numeric default 0,
    resolution_time timestamp with time zone,
    color text,
    resolution_probability numeric,
    resolution text,
    resolver_id text,
    is_other boolean default false not null
  );

-- Row Level Security
alter table answers enable row level security;

-- Policies
drop policy if exists "public read" on answers;

create policy "public read" on answers for
select
  using (true);

-- Indexes
drop index if exists answers_pkey;

create unique index answers_pkey on public.answers using btree (id);

drop index if exists answer_contract_id;

create index answer_contract_id on public.answers using btree (contract_id);

drop index if exists answer_text_fts;

create index answer_text_fts on public.answers using gin (text_fts);
