-- This file is autogenerated from regen-schema.ts
create table if not exists
  charity_lottery_tickets (
    id text primary key default random_alphanumeric (12) not null,
    lottery_num integer not null references charity_lotteries (lottery_num),
    charity_id text not null,
    user_id text not null,
    num_tickets integer not null,
    mana_spent numeric not null,
    created_time timestamp with time zone default now() not null
  );

-- Row Level Security
alter table charity_lottery_tickets enable row level security;

-- Policies
drop policy if exists "public read" on charity_lottery_tickets;

create policy "public read" on charity_lottery_tickets for
select
  using (true);

-- Indexes
drop index if exists charity_lottery_tickets_pkey;

create unique index charity_lottery_tickets_pkey on public.charity_lottery_tickets using btree (id);

drop index if exists charity_lottery_tickets_lottery_num;

create index charity_lottery_tickets_lottery_num on public.charity_lottery_tickets using btree (lottery_num);

drop index if exists charity_lottery_tickets_lottery_charity;

create index charity_lottery_tickets_lottery_charity on public.charity_lottery_tickets using btree (lottery_num, charity_id);

drop index if exists charity_lottery_tickets_user_id;

create index charity_lottery_tickets_user_id on public.charity_lottery_tickets using btree (user_id);

drop index if exists charity_lottery_tickets_created_time;

create index charity_lottery_tickets_created_time on public.charity_lottery_tickets using btree (created_time desc);
