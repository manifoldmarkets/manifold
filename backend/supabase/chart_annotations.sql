-- This file is autogenerated from regen-schema.ts

CREATE TABLE IF NOT EXISTS chart_annotations (
  answer_id text,
  comment_id text,
  contract_id text NOT NULL,
  created_time timestamp with time zone DEFAULT now() NOT NULL,
  creator_avatar_url text NOT NULL,
  creator_id text NOT NULL,
  creator_name text NOT NULL,
  creator_username text NOT NULL,
  down_votes integer DEFAULT 0 NOT NULL,
  event_time bigint NOT NULL,
  external_url text,
  id bigint PRIMARY KEY GENERATED ALWAYS AS IDENTITY NOT NULL,
  prob_change numeric CONSTRAINT chart_annotations_prob_change_check CHECK (((prob_change >= ('-1'::integer)::numeric) AND (prob_change <= (1)::numeric))),
  text text,
  thumbnail_url text,
  up_votes integer DEFAULT 0 NOT NULL,
  user_id text
);



-- Row Level Security
ALTER TABLE chart_annotations ENABLE ROW LEVEL SECURITY;
-- Policies
DROP POLICY IF EXISTS "public read" ON chart_annotations;
CREATE POLICY "public read" ON chart_annotations FOR ALL USING (true) ;

-- Indexes
DROP INDEX IF EXISTS chart_annotations_pkey;
CREATE UNIQUE INDEX chart_annotations_pkey ON public.chart_annotations USING btree (id);
DROP INDEX IF EXISTS contract_annotations_event_time;
CREATE INDEX contract_annotations_event_time ON public.chart_annotations USING btree (contract_id, event_time);

